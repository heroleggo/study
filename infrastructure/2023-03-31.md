# 2023-03-30

### 학습 내용 정리

쿠버네티스를 학습하기 위한 기초가 되는 부분에 대한 학습 진행

#### monolithic to microservice

대체적으로 일반 서비스들은 하나의 머신 안에 하나의 서비스가 구동되는 형태를 가지고 있음

서비스를 관리할 때, 전체 서비스를 관리하는 것 보다 단위를 두고 서비스를 분리하여 관리하는 것이 효율적이고 편리함

작은 단위의 시스템을 구성하고, 서비스를 분리하여 사용하는 형태의 마이크로서비스 구조로 변화하게 됨

> Scale up : 시스템의 물리적인 스펙을 증가시켜 원하는 형태로 구성하는 것
> Scale out : 시스템을 분리하여 동일한 기능을 하는 서비스를 여러 대가 수행할 수 있도록 함

monolithic service : 통째로 scale up 또는 scale out 해야 함
microservice : 사용이 많은 부분만 scale up, scale out

마이크로서비스는 기본적으로 위의 두 개념을 사용

(물론 마이크로서비스로 변경할 수 없는 구조가 존재함, Database와 같은 부분)

#### Disadvantages of using microservice

1. 거대한 서버가 여러 마이크로서비스를 운용할 경우, 각 마이크로서비스가 가지고 있는 dependency를 모두 가지고 있어야 함

(서비스 A가 라이브러리 B v0.4에 의존하고, 서비스 C가 라이브러리 B v1.0에 의존한다면 서버는 라이브러리 B의 두 버전을 가지고 있어야 함)


#### Importance of consistent environment

서비스의 개발이 지속적으로 진행됨에 따라, 당연히 서비스가 원하는 환경이 변화함

결국, 서비스가 요구하는 환경을 일정하게 제공하는 것이 매우 중요

-> 작은 크기로 원하는 환경을 일정하게 제공해줄 수 있는 서비스에 대한 수요가 높아짐

#### DevOps의 등장, DevOps vs NoOps

개발자들이 라이브러리의 버전같은 부분을 모두 고려하며 서비스를 만드는 일은 매우 비효율적

개발, QA, Ops 팀이 전체 프로세스에 관여해야 위의 단점들이 해결되는 서비스 환경을 구성할 수 있음

이를 전문으로 담당하는 팀 : DevOps 팀

Developer : 새로운 기능과 사용자 경험을 상승시키는 것에 집중
DevOps : 시스템의 안정성과 보안, 최적화 등의 요소를 고민

개발자는 시스템의 자세한 스펙을 알 필요가 없음 -> Ops를 고려하지 않은 NoOps 형태의 작업을 진행

만약 NoOps 상황에서 일정하게 서비스를 구동시킬 수 있는 서비스가 있다면 사용할 것

#### VM vs Container

VM : Host와 별개로 독립적인 시스템 구성이 필요
Container : Host에서 프로세스 형태로 실행되기 때문에 독립적인 시스템 구성이 불필요

VM에 비해 컨테이너가 가벼움

VM은 크기가 크기 때문에 해당 환경을 사용하는 여러 서비스를 함께 실행

컨테이너는 프로세스 형태이기 때문에 하나의 서비스를 독립해서 실행

#### Container

쿠버네티스는 실행 환경을 격리하기 위해 Linux container 기술 활용

실행 환경을 격리하는 방법은 VM, Container의 두 가지 방법이 존재

컨테이너는 Host의 환경에서 프로세스 형태로 실행되지만, 다른 프로세스와는 격리되기 때문에 Host에 접근할 수 없음

