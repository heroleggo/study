# Day02

## 1.1 초난감 DAO

1장 1절에서는 DAO가 무엇인지 간단히 소개하며, JDBC API를 활용하여 User라는 객체에 접근하는 방법을 소개했다.
DAO란 Data Access Object의 줄임말로, 데이터에 접근하기 위해 사용되는 객체를 뜻한다.
책에서는 DAO 설계 시 고려해야 할 사항을 여러 측면에서 설명하고 있다.

## 1.2 DAO의 분리
- 관심사의 분리
예시에서 최초 DAO 코드는 DB 커넥션을 포함하고 있다.
데이터베이스가 변경될 수 있다는 점을 가진 상황에서, DAO 코드에 DB 커넥션 코드가 포함되어 있는 것은 적절하지 않다.
여기서 말하는 **관심사**는 코드가 가지고 있는 역할을 뜻한다.
관심사를 분리한다면, DB 커넥션의 생성부분을 분리해 원하는 DB 커넥션을 별도로 활용할 수 있다.
- 코드의 독립
더 나아간다면, 커넥션 자체를 별도의 클래스 코드로 작성하는 등 코드를 분리할 수 있다.

## 1.3 DAO의 확장
- 클래스의 분리
DAO가 의존하고 있는 특정 코드 파편이 존재한다면, 이를 분리하여 별도의 클래스로 구성할 수 있다.
- 인터페이스 도입
DAO가 의존하고 있는 클래스가 여러 구현체를 가지도록 확장하고자 한다면,
인터페이스를 도입하여 구현체를 세부적으로 결정할 수 있도록 하는 것이 좋다.
- 관계설정 책임의 분리
DAO가 설정되는 관계를 알고 있다면, DAO 코드 자체의 책임이 온전히 분리되어 있지 않다.
관계설정을 외부에 위임하는 등의 방법을 통해 책임을 작고 명확하게 줄 수 있다면 더 좋은 코드를 작성할 수 있다.
- 원칙과 패턴
많은 프로그래밍 관련 글, 도서에서 원칙, 패턴에 대해 설명한다.
이를 통해 코드를 낮은 결합도와 높은 응집성을 유지할 수 있다면, 코드를 다시 바라보고 변경/작성할 때 유리하다.

## 1.4 제어 역전 (Inversion of Control)
- 오브젝트 팩토리
DAO 객체를 생성하고 관계설정을 지정해줄 수 있는 공장을 만든다면 어떨까?
팩토리는 말 그대로 작은 객체 부품을 가지고 완성된 객체를 반환한다.
- 제어권의 이전을 통한 제어관계 역전
일반적으로 제어권을 가지고 있는 객체에서 제어관계를 관리할 수 있다.
제어권을 팩토리가 가지고 있다면, 제어관계를 팩토리에서 관리하기 때문에 코드의 결합도를 낮출 수 있다.